[{"content":"在开发过程中，为了方便前后端新增，查看，修改 RESTful API接口，需要一个用于管理API的平台，YApi 是一款高效、易用、功能强大的开源 API 管理平台，特别适合中文开发团队使用。以下是其主要特点：\n可视化接口管理 强大的 Mock 服务 自动化测试 1. 环境准备 kylin server 2204 arm , 内核版本 4.19.90-25.10.v2101.ky10.aarch64 虚拟机磁盘大小\u0026gt;=150G, 内存 20G (mongodb编译需要) 2. 安装高版本nodejs node下载地址\n1 2 3 4 5 6 7 8 9 10 11 12 13 wget https://nodejs.org/download/release/v14.15.1/node-v14.15.1-linux-arm64.tar.xz xz -d node-v14.15.1-linux-arm64.tar.xz tar -xf node-v14.15.1-linux-arm64.tar mv node-v14.15.1 nodejs ln -s /usr/local/node/nodejs/bin/node /usr/local/bin/node ln -s /usr/local/node/nodejs/bin/npm /usr/local/bin/npm ln -s /usr/local/node/nodejs/bin/npx /usr/local/bin/npx 这里使用v8.10.0 版本node， 因为使用太高的版本yapi 在安装相应包时会提示(node version required \u0026gt;4 \u0026lt;=9) 3. 源码编译安装mongodb 3.1 编译安装 安装依赖包：dnf install libcurl-devel libboost-all-devel libopenssl-dev scons\ngcc 版本要求\u0026gt;=8.0 ，或者clang \u0026gt;= 7\nPython 3.7\n这里使用 v6.0.21 版本，太高版本需要gcc的版本更高\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 克隆源码：git clone https://github.com/mongodb/mongo.git 切换到6.0分支：git checkout v6.0.21 cd mongo pip3 install --user -r etc/pip/dev-requirements.txt 如果报错，缺啥安装啥 编译： ./buildscripts/scons.py install-mongod install-mongo --disable-warnings-as-errors CCFLAGS=-march=armv8-a+crc -j10 CCFLAGS=-march=armv8-a+crc： aarch64下编译需要 或使用 scons install-mongod install-mongo --opt=release 编译 编译后，生成的二进制 mongod 和mongo 在 mongo/build/下，直接拷贝到/usr/local/bin/下即可 scons --prefix=/usr/local/bin/mongodb install 也可安装到指定目录下 3.2 启动mongodb 新建数据库配置文件\n新建mongod.conf\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 # mongod.conf # where to write logging data systemLog: destination: file path: /var/log/mongodb/mongod.log logAppend: true logRotate: reopen # 日志轮转方式(reopen/rename) # where to store data storage: dbPath: /var/lib/mongodb journal: enabled: true # 启用journal日志 # 进程管理 processManagement: fork: true # 以守护进程方式运行 pidFilePath: /var/run/mongodb/mongod.pid # PID文件位置 # network interfaces net: port: 27017 bindIp: 127.0.0.1 maxIncomingConnections: 800 # 最大连接数 security: authorization: enabled 新建目录\n新建日志目录/var/log/mongodb 和进程目录 /var/run/mongodb 以及数据目录/var/lib/mongodb\n启动数据库\n执行mongod -f /etc/mongod.conf ，即可启动mongodb\n安全配置\n1 2 3 4 5 6 7 8 9 10 11 12 13 MongoDB 默认没有启用认证，这在生产环境中是不安全的。配置用户认证来保护数据库。 mongo # 进数据库 use database # 创建数据库， 这里将database设置为yapi db.createUser({ user: \u0026#39;admin\u0026#39;, pwd: \u0026#39;password\u0026#39;, roles: [{ role: \u0026#39;userAdminAnyDatabase\u0026#39;, db: \u0026#39;admin\u0026#39; }] }) 将 \u0026#39;admin\u0026#39; 和 \u0026#39;password\u0026#39; 替换为实际的用户名和密码。这里是 yapi 和 123456 创建用户后，通过以下命令要求 MongoDB 使用认证： mongod --auth -f /etc/mongod.conf 连接数据库\n1 mongo -u \u0026#34;username\u0026#34; -p \u0026#34;password\u0026#34; --authenticationDatabase \u0026#34;admin\u0026#34; # username 和 password 使用实际的，这里是yapi 和 123456 4. 安装yapi 4.1 安装 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 mkdir yapi cd yapi git clone https://github.com/YMFE/yapi.git vendors //或者下载 zip 包解压到 vendors 目录（clone 整个仓库大概 140+ M，可以通过 `git clone --depth=1 https://github.com/YMFE/yapi.git vendors` 命令减少，大概 10+ M） cp vendors/config_example.json ./config.json //复制完成后请修改相关配置 cd vendors npm config set registry https://registry.npmmirror.com/ npm run install-server //安装程序会初始化数据库索引和管理员账号，管理员账号名可在 config.json 配置 node server/app.js //启动服务器后，请访问 127.0.0.1:{config.json配置的端口}，初次运行会有个编译的过程，请耐心等候 config.json { \u0026#34;port\u0026#34;: \u0026#34;3000\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;10.0.0.190\u0026#34;, \u0026#34;adminAccount\u0026#34;: \u0026#34;admin@admin.com\u0026#34;, \u0026#34;timeout\u0026#34;:120000, \u0026#34;db\u0026#34;: { \u0026#34;servername\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;DATABASE\u0026#34;: \u0026#34;yapi\u0026#34;, #数据库名 \u0026#34;port\u0026#34;: 27017, \u0026#34;user\u0026#34;: \u0026#34;yapi\u0026#34;, #用户 \u0026#34;pass\u0026#34;: \u0026#34;123456\u0026#34;, #密码 \u0026#34;authSource\u0026#34;: \u0026#34;yapi\u0026#34; #认证源 }, \u0026#34;mail\u0026#34;: { \u0026#34;enable\u0026#34;: true, \u0026#34;host\u0026#34;: \u0026#34;smtp.163.com\u0026#34;, \u0026#34;port\u0026#34;: 465, \u0026#34;from\u0026#34;: \u0026#34;***@163.com\u0026#34;, \u0026#34;auth\u0026#34;: { \u0026#34;user\u0026#34;: \u0026#34;***@163.com\u0026#34;, \u0026#34;pass\u0026#34;: \u0026#34;*****\u0026#34; } } } 在数据库中先要创建数据库和用户 use yapi db.createUser 4.2 pm2 管理 node 服务器启动，停止 1 2 3 npm i pm2 -g # 安装 pm2 start server/app.js --watch # 启动 5. 参考链接 https://hellosean1025.github.io/yapi/devops/index.html\nhttps://github.com/mongodb/mongo/wiki/Build-MongoDB-From-Source/6a0880a8c101ddf81d639d64dafc818e41170c0b\nhttps://my.oschina.net/emacs_8809898/blog/17316008\nhttps://mirrors.aliyun.com/nodejs-release\n","permalink":"https://qingshanxiao292311.github.io/zh/posts/deploy/yapi-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/","summary":"\u003cp\u003e在开发过程中，为了方便前后端新增，查看，修改 \u003ccode\u003eRESTful API\u003c/code\u003e接口，需要一个用于管理API的平台，YApi 是一款高效、易用、功能强大的开源 API 管理平台，特别适合中文开发团队使用。以下是其主要特点：\u003c/p\u003e","title":"yapi 本地部署"},{"content":"使用hugo的PaperMod 主题，在默认的基础上进行一些修改，已便更加美观和好用。\n1. Hugo 文件夹管理 archetypes：不用管 asset：自定义的 CSS 和 JavaScript content：用于放博客内容 data：不用管 layouts：自定义的 HTML public：项目导出文件 - 用于静态网页部署，hugo server -D 生成的网页在这个目录 static：存放图片 themes：主题 - PaperMod 2. 自定义config.yml 配置文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 baseURL: \u0026#34;https://qingshanxiao292311.github.io\u0026#34; # github pages 访问url pagination.pagerSize: 10 # 单页显示文章数 theme: PaperMod # 主题 hasCJKLanguage: true # 自动检测是否包含中文日文韩文,如果文章中使用了很多中文引号的话可以开启 enableInlineShortcodes: true enableRobotsTXT: true buildDrafts: false buildFuture: false buildExpired: false pygmentsUseClasses: true enableEmoji: true # 允许使用 Emoji 表情，建议 true minify: disableXML: true # minifyOutput: true permalinks: # post: \u0026#34;/:title/\u0026#34; post: \u0026#34;/:year/:month/:day/:title/\u0026#34; defaultContentLanguage: zh # 最顶部首先展示的语言页面 defaultContentLanguageInSubdir: true outputs: # 搜索需要 home: - HTML - RSS - JSON params: # author: [\u0026#34;肖青山\u0026#34;] # multiple authors # images: [\u0026#34;\u0026lt;link or path of image for opengraph, twitter-cards\u0026gt;\u0026#34;] defaultTheme: auto # defaultTheme: light or dark disableThemeToggle: false DateFormat: \u0026#34;2006-01-02\u0026#34; ShowShareButtons: false # false, 去除X, IN, FACKBOOK等社交账号的显示 # ShowReadingTime: true disableSpecialistPost: true displayFullLangName: true # ShowPostNavLinks: true ShowBreadCrumbs: true ShowCodeCopyButtons: true hideFooter: false # 隐藏页脚 # ShowWordCounts: true VisitCount: true # ShowArchiveLinks: true # ShowLastMod: true #显示文章更新时间 comments: false hidemeta: false hideSummary: false showtoc: true # 显示目录 tocopen: true # 目录开启 # enableGitInfo: true languages: zh: languageName: 简体中文 languageCode: zh-cn weight: 1 contentDir: content/Chinese # 内容目录 title: \u0026#34;肖青山的博客\u0026#34; description: \u0026#39;\u0026#39; # keywords: [Blog, Portfolio, PaperMod] author: 肖青山 # profile-mode params: profileMode: enabled: true title: 每天进步一点，有进步一点的欢喜 subtitle: \u0026#34;👏🏼欢迎光临我的博客\u0026#34; imageUrl: \u0026#34;img/blog.png\u0026#34; imageTitle: imageWidth: 150 imageHeight: 150 buttons: - name: 博客 url: \u0026#34;/zh/posts/\u0026#34; - name: Github url: \u0026#34;https://github.com/\u0026#34; menu: # 菜单栏 main: - identifier: home name: 🏠 主页 url: /zh/ weight: 10 - identifier: search name: 🔍 搜索 url: /zh/search/ weight: 20 - identifier: archive name: ⏱ 时间轴 url: /zh/archives/ weight: 40 - identifier: categories name: 📁 分类 url: /zh/categories/ weight: 50 - identifier: tags name: 🏷️ 标签 url: /zh/tags/ weight: 60 # - identifier: about # name: 👨🏻‍🦱 关于 # url: /zh/about/ # weight: 70 en: languageName: English languageCode: en weight: 2 contentDir: content/English title: \u0026#34;Xiaoqingshan\u0026#39;s blog\u0026#34; description: \u0026#39;\u0026#39; # keywords: [Blog, Portfolio, PaperMod] author: qingshan Xiao # profile-mode params: profileMode: enabled: true title: Make a little progress every day, and find joy in each step forward subtitle: \u0026#34;👏🏼Welcome to my Blog\u0026#34; imageUrl: \u0026#34;img/blog.png\u0026#34; imageTitle: imageWidth: 150 imageHeight: 150 buttons: - name: Blog url: \u0026#34;/en/posts/\u0026#34; - name: Github url: \u0026#34;https://github.com/\u0026#34; menu: main: - identifier: home name: 🏠 home url: /en/ weight: 10 - identifier: search name: 🔍 search url: /en/search/ weight: 30 - identifier: archive name: ⏱ archive url: /en/archives/ weight: 40 - identifier: categories name: 📁 categories url: /en/categories/ weight: 50 - identifier: tag name: 🏷️ tag url: /en/tags/ weight: 60 # - identifier: about # name: 👨🏻‍🦱 about # url: /en/about/ # weight: 70 markup: highlight: # anchorLineNos: true codeFences: true guessSyntax: true lineNos: true # noClasses: false # style: monokai style: darcula # codeFences：代码围栏功能，这个功能一般都要设为 true 的，不然很难看，就是干巴巴的-代码文字，没有颜色 # guessSyntax：猜测语法，这个功能建议设置为 true, 如果你没有设置要显示的语言则会自动匹配 # hl_Lines：高亮的行号，一般这个不设置，因为每个代码块我们可能希望让高亮的地方不一样 # lineNoStart：行号从编号几开始，一般从 1 开始 # lineNos：是否显示行号 # lineNumbersInTable：使用表来格式化行号和代码,而不是 标签。这个属性一般设置为 true # noClasses：使用 class 标签，而不是内嵌的内联样式 2.1 双语设置 如上面的config.yml中languages 项所示。\n1 2 3 4 5 languages: zh: ...... en: ...... 另外添加这两项：\n1 2 defaultContentLanguage: zh # 最顶部首先展示的语言页面 defaultContentLanguageInSubdir: true 2.2 主页自定义 主页使用Profile Mode模式，没有使用Home-Info Mode和default-mode。\n具体可以参考：主页模式\n2.2 自定义内容目录 contentDir设置的是content/Chinese 和 content/English，为了匹配双语，必须在content目录下新建这两个目录，然后在Chinese和English下分别建一个posts目录，posts下的目录可以自定义。\n1 2 3 4 5 6 7 ├─content │ ├─Chinese │ │ └─posts │ │ └─hugo │ └─English │ └─posts │ └─hugo 3. 自定义菜单栏 如上面的config.yml中的menu项：\n3.1 搜索(search)自定义 除了在config.yml 开启配置outputs项外，还需要在content/Chinese和content/English下新建search.md.\n1 2 3 4 5 6 7 --- title: \u0026#34;🔍 搜索\u0026#34; # in any language you want layout: \u0026#34;search\u0026#34; # is necessary # description: \u0026#34;Description for Search\u0026#34; summary: \u0026#34;search\u0026#34; placeholder: \u0026#34;搜索框内的默认显示\u0026#34; --- 3.2 归档(archive)自定义 需要在content/Chinese和content/English下新建archives.md.\n1 2 3 4 5 6 7 8 --- title: \u0026#34;⏱ 时间轴\u0026#34; layout: \u0026#34;archives\u0026#34; url: \u0026#34;/zh/archives/\u0026#34; description: \u0026#34;......\u0026#34; summary: archives translationKey: archives --- 3.3 分类(categories)和标签(tags) 由于PaperMod默认支持，只需要在文章xxx.md的front matter中指定即可\n1 2 3 4 5 6 7 8 9 10 11 12 --- title: \u0026#34;折腾 Hugo \u0026amp; PaperMod 主题\u0026#34; date: 2025-06-25 draft: false author: \u0026#34;......\u0026#34; lastmod: 2025-06-26 draft: false # 设为 false 发布 categories: [\u0026#34;Hugo\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;PaperMod\u0026#34;] --- 添加emoji图标通过修改/layouts/_default/term.html 实现：\n先把themes/PaperMod/layouts/_default/term.html复制到layouts/__default/中，hugo根目录下layouts的会覆盖themes/PaperMod下的，修改成如下即可.\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;header class=\u0026#34;page-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt; {{ if eq .Data.Plural \u0026#34;tags\u0026#34; }}🏷️{{ end }} {{ if eq .Data.Plural \u0026#34;categories\u0026#34; }}📁{{ end }} {{ .Title }} \u0026lt;/h1\u0026gt; {{- if .Description }} \u0026lt;div class=\u0026#34;post-description\u0026#34;\u0026gt; {{ .Description }} \u0026lt;/div\u0026gt; {{- end }} \u0026lt;/header\u0026gt; {{- end }} 4. 文章样式修改 4.1 目录字体修改 修改文章目录靠左，字体大小 修改文章内容宽度等 屏蔽目录前的符合(markmod)标识 新建assets/css/extended/custom.css文件，添加如下内容： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 /* 目录*/ .toc { float: left; margin-right: 20px; /* 目录与文章内容之间的间距 */ width: 240px; /* 自定义目录宽度 */ position: sticky; top: 20px; /* 距离顶部的高度 */ font-size: 14px; /* 字体大小 */ } /* 文章内容更宽 */ .post-content { margin-left: 280px; /* 留出与目录的间距 */ max-width: none; /* 移除默认的最大宽度限制 */ width: 95%; /* 设置文章内容宽度为容器宽度的90%，可根据需要调整 */ margin-right: 5%; /* 右边留出一定间距，避免贴边 */ } /* 去除目录前的markmod 符号(. o)*/ .toc li::marker { content: none; } /*适配移动小屏*/ @media screen and (max-width: 768px) { .toc { float: none; width: 100%; position: static; } .post-content { margin-left: 0; width: 100%; margin-right: 0; } } 4.2 文章字体修改 复制themes/PaperMod/assets/css/common/post-single.css 到 assets/css/common/，然后修改font-size的值.\n4.3 文章元数据自定义 显示创建时间，更新时间，时长，字数和作者\n新建 /layouts/partials/post_meta.html，添加如下内容：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 \u0026lt;div class=\u0026#34;post-meta\u0026#34;\u0026gt; {{ if .Date }} \u0026lt;span class=\u0026#34;post-meta-item\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;icon\u0026#34;\u0026gt;📅\u0026lt;/span\u0026gt; 创建: {{ .Date.Format \u0026#34;2006-01-02\u0026#34; }} \u0026lt;/span\u0026gt; {{ end }} {{ if and .Lastmod (ne .Lastmod .Date) }} \u0026lt;span class=\u0026#34;post-meta-item\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;icon\u0026#34;\u0026gt;🔄\u0026lt;/span\u0026gt; 更新: {{ .Lastmod.Format \u0026#34;2006-01-02\u0026#34; }} \u0026lt;/span\u0026gt; {{ end }} {{ if .ReadingTime }} \u0026lt;span class=\u0026#34;post-meta-item\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;icon\u0026#34;\u0026gt;⏳\u0026lt;/span\u0026gt; 时长: {{ .ReadingTime }}分钟 \u0026lt;/span\u0026gt; {{ end }} {{ if .WordCount }} \u0026lt;span class=\u0026#34;post-meta-item\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;icon\u0026#34;\u0026gt;📝\u0026lt;/span\u0026gt; 字数: {{ .WordCount }}字 \u0026lt;/span\u0026gt; {{ end }} {{ if .Params.author }} \u0026lt;span class=\u0026#34;post-meta-item\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;icon\u0026#34;\u0026gt;👤\u0026lt;/span\u0026gt; {{ .Params.author }} \u0026lt;/span\u0026gt; {{ end }} \u0026lt;/div\u0026gt; 调整元数据的显示，在custom.css文件，添加如下内容：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /**调整文章元数据信息**/ .post-meta { display: flex; flex-wrap: wrap; gap: 0.3rem; margin-bottom: 1.0rem; font-size: 0.9rem; color: var(--secondary); } .post-meta-item { display: flex; align-items: center; gap: 0.2rem; } .post-meta .icon { opacity: 0.6; } 4.4 支持跳转到上/下篇文章 复制themes/PaperMod/layouts/_default/single.html到layouts/_default/下：\n添加：\n1 2 3 4 5 6 {{ with .NextInSection }} \u0026lt;a class=\u0026#34;next\u0026#34; href=\u0026#34;{{ .Permalink }}\u0026#34;\u0026gt;下一篇：{{ .Title }}\u0026lt;/a\u0026gt; {{ end }} {{ with .PrevInSection }} \u0026lt;a class=\u0026#34;prev\u0026#34; href=\u0026#34;{{ .Permalink }}\u0026#34;\u0026gt;上一篇：{{ .Title }}\u0026lt;/a\u0026gt; {{ end }} 设置字体大小，custom.css添加：\n1 2 3 4 5 /*跳转上下篇文章*/ .next, .prev { font-size: 15px; margin: 10px; } 4.5 文章中链接另起页签 新建assets/js/custom.js，添加：\n1 2 3 4 5 6 7 8 9 document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { const links = document.querySelectorAll(\u0026#39;.post-content a[href^=\u0026#34;http\u0026#34;]\u0026#39;); links.forEach(link =\u0026gt; { if (link.hostname !== window.location.hostname) { link.setAttribute(\u0026#39;target\u0026#39;, \u0026#39;_blank\u0026#39;); link.setAttribute(\u0026#39;rel\u0026#39;, \u0026#39;noopener noreferrer\u0026#39;); } }); }); 复制themes/PaperMod/layouts/partials/head.html 到 layouts/partials/下：\n在最后添加：\n1 2 3 4 {{ if resources.Get \u0026#34;js/custom.js\u0026#34; }} {{ $customJS := resources.Get \u0026#34;js/custom.js\u0026#34; | resources.Minify | resources.Fingerprint }} \u0026lt;script src=\u0026#34;{{ $customJS.Permalink }}\u0026#34; integrity=\u0026#34;{{ $customJS.Data.Integrity }}\u0026#34; defer\u0026gt;\u0026lt;/script\u0026gt; {{ end }} 4.5 文章字体代码等设置 在 Google Fonts 中查询开源字体，目前的文章字体为 JetBrains Mono。Google Fonts 会生成 HTML 和 css ，将 HTML 插入到 layouts/partials/extend_head.html 中，将 CSS 插入到 assets/css/extended/blank.css：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 extend_head.html: \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; blank.css: /* 全文字体 body { font-family: \u0026#39;JetBrains Mono\u0026#39;, monospace; font-size: 1rem; line-height: 1.5; margin: 0; # font-style: normal; }*/ /*代码字体*/ .post-content pre, code { font-family: \u0026#39;JetBrains Mono\u0026#39;, monospace; font-size: 13; line-height: 1.2; max-height: 40rem; } 5. 参考 https://github.com/adityatelange/hugo-PaperMod/wiki/Features\nhttps://www.shaohanyun.top/posts/env/blog_build2/\nhttps://www.yunyitang.me/hugo-papermod-blog/\nhttps://dvel.me/posts/hugo-papermod-config/\n","permalink":"https://qingshanxiao292311.github.io/zh/posts/hugo/hugo--papermod-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/","summary":"\u003cp\u003e使用hugo的PaperMod 主题，在默认的基础上进行一些修改，已便更加美观和好用。\u003c/p\u003e\n\u003ch1 id=\"1-hugo-文件夹管理\"\u003e1. Hugo 文件夹管理\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003earchetypes\u003c/code\u003e：不用管\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003easset\u003c/code\u003e：\u003ca href=\"https://www.yunyitang.me/hugo-papermod-blog/#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80-htmlcss\"\u003e自定义的 CSS 和 JavaScript\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003econtent\u003c/code\u003e：用于放博客内容\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edata\u003c/code\u003e：不用管\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elayouts\u003c/code\u003e：\u003ca href=\"https://www.yunyitang.me/hugo-papermod-blog/#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80-htmlcss\"\u003e自定义的 HTML\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epublic\u003c/code\u003e：项目导出文件 - 用于静态网页部署，\u003ccode\u003ehugo server -D\u003c/code\u003e 生成的网页在这个目录\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estatic\u003c/code\u003e：存放图片\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ethemes\u003c/code\u003e：主题 - \u003ca href=\"https://github.com/adityatelange/hugo-PaperMod/\"\u003ePaperMod\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg alt=\"hugo 文件夹\" loading=\"lazy\" src=\"/images/hugo/dir.png\"\u003e\u003c/p\u003e","title":"Hugo \u0026 PaperMod 主题配置"},{"content":" 环境准备 安装 hugo 创建 hugo 博客项目 本地访问 部署到github pages 1. 环境准备 windows 10 桌面\n1.1 安装 git 客户端 git 下载地址\n2. 安装 hugo 2.1 先安装 Chocolatey（Windows 包管理器） 用管理员方式打开powershell\n1 Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(\u0026#39;https://community.chocolatey.org/install.ps1\u0026#39;)) 2.2 通过 Chocolatey 安装 Hugo 1 choco install hugo-extended -y 2.3 验证安装 1 hugo version 3. 创建 hugo 博客项目 3.1 生成新站点 在任意目录下，本文在 D：目录\n1 2 3 cd d: hugo new site my-blog cd my-blog 3.2 克隆主题到本地（以 PaperMod 为例） 参考：PaperMod安装\n1 2 git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive 3.3 配置主题 修改hugo.yml\n1 2 3 4 baseURL: \u0026#34;https://qingshanxiao292311.github.io/\u0026#34; # baseurl 为 https://\u0026lt;github repository\u0026gt; 地址 languageCode: zh-cn title: \u0026#39;My New Hugo Site\u0026#39; # 标题 theme: PaperMod # 主题，如果用github上的，可以使用remote-theme：xxx定义 4. 本地访问博客 使用 hugo 命令创建\n1 2 3 4 5 6 7 8 9 10 11 12 13 1. hugo new content posts\\first.md 在my-blog/content/posts 下即生成了一个markdown格式的文章 2. 编辑 first.md --- title: \u0026#34;我的第一篇文章\u0026#34; date: 2025-06-09 draft: false # 设为 false 发布 --- 3. 启动本地服务器： hugo server -D 4. 浏览器访问： http://localhost:1313 # 实时预览效果（修改内容会自动刷新） 5. 部署到 GitHub Pages 5.1 创建 GitHub 仓库 在 github 下新建 repository_name: \u0026lt;用户名.github.io\u0026gt; , 用于用户站点访问。其中仓库名必须是 \u0026lt;用户名.github.io\u0026gt;\n新建仓库名 qingshanxiao292311.github.io\n5.2 配置 GitHub Actions 在博客根目录创建 .github/workflows/deploy.yml：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 name: Deploy Hugo site to GitHub Pages on: push: branches: - main jobs: build-deploy: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v4 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#39;latest\u0026#39; extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v4 with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./public 5.3 提交代码到仓库 1 2 3 4 5 6 7 cd my-blog git branch -M main git add . git commit -m \u0026#34;Initial Huge site\u0026#34; git remote add origin https://github.com/\u0026lt;你的用户名\u0026gt;/\u0026lt;你的用户名\u0026gt;.github.io.git git push -u origin main 5.4 访问博客 等待 Actions 完成（约1分钟），访问 https://\u0026lt;你的用户名\u0026gt;.github.io\n6. 部署遇到的问题 6.1 提交代码无权限 1 2 3 4 5 6 /usr/bin/git push origin gh-pages remote: Permission to qingshanxiao292311/xiaoqingshan.github.io.git denied to github-actions[bot]. fatal: unable to access \u0026#39;https://github.com/qingshanxiao292311/xiaoqingshan.github.io.git/\u0026#39;: The requested URL returned error: 403 Error: Action failed with \u0026#34;The process \u0026#39;/usr/bin/git\u0026#39; failed with exit code 128\u0026#34; 仓库 Settings → Actions → General 中调整：\n找到 Workflow permissions，勾选 Read and write permissions 6.2 github pages 网页访问报 page not found 双语主题下：\n原因：是由于在 gh-pages分支下 zh 目录下没有posts目录导致，之所以没有生成posts目录，是由于config.yaml中的contentDir: content/chinese 与 实际内容目录 content下的 Chinese 大小写不一致导致， 必须保持一致。\n解决办法：修改文件名或配置文件，保持一致\n6.3 本地localhost:1313访问报 page not found 原因：是由于themes/PaperMod下无内容，导致无法访问主题，根据相应的规则生成相应的html文件。\n解决办法：重新下载后解决\n6.4 在网页访问报 file not found 原因：是由于source 没有设置成gh-pages分支，是main分支，因为url直接访问的gh-pages分支，文件xxx.md生成的网页xxx.html在gh-pages分支下\n解决办法：\n在 GitHub 仓库的 Settings -\u0026gt; Pages 中，确认：\nSource 设置为 gh-pages 分支，目录为 / (root)\n域名正确（qingshanxiao292311.github.io）\n","permalink":"https://qingshanxiao292311.github.io/zh/posts/hugo/%E5%88%A9%E7%94%A8-hugo--github-pages-%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2/","summary":"\u003cul\u003e\n\u003cli\u003e环境准备\u003c/li\u003e\n\u003cli\u003e安装 \u003ccode\u003ehugo\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e创建 \u003ccode\u003ehugo\u003c/code\u003e 博客项目\u003c/li\u003e\n\u003cli\u003e本地访问\u003c/li\u003e\n\u003cli\u003e部署到\u003ccode\u003egithub pages\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"1-环境准备\"\u003e1. 环境准备\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003ewindows 10\u003c/code\u003e 桌面\u003c/p\u003e\n\u003ch2 id=\"11-安装-git-客户端\"\u003e1.1 安装 git 客户端\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://git-scm.com/downloads\"\u003egit 下载地址\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"2-安装-hugo\"\u003e2. 安装 hugo\u003c/h1\u003e\n\u003ch2 id=\"21-先安装-chocolateywindows-包管理器\"\u003e2.1 先安装 \u003ca href=\"https://chocolatey.org/install\"\u003eChocolatey\u003c/a\u003e（Windows 包管理器）\u003c/h2\u003e\n\u003cp\u003e用管理员方式打开\u003ccode\u003epowershell\u003c/code\u003e\u003c/p\u003e","title":"利用Hugo \u0026 Github pages 部署博客"},{"content":"记录一下利用 Gitea 存储代码、Jenkins 进行持续集成 (CI)，并在 Kubernetes (K8s) 中拉取容器编译代码的 CI/CD 流程。\n1. 环境搭建 环境搭建包括gitea部署，jenkins部署和k8s部署。\n1.1 gitea 部署 gitea部署\n1.2 jenkins 部署 jenkins部署\n1.3 k8s部署 k8s master节点部署\nk8s node节点部署\nk8s 网络插件部署\n2. Gitea 配置 2.1 organization 使用管理员登录Gitea 管理平台\n添加一个organization\n给组织设置webhook\n​ Target URL设置： 例如http://10.0.0.190:8000/gitea-webhook/post， 10.0.0.190是jenkins服务所在的主机IP， 8000是jenkins服务端口\n设置Trigger ​ 设置 pull request\n​ 点击 Update Webhook更新设置\n2.2 repository 新建repository\n设置webhook\nrepository 的webhook设置与organization的webhook完全一致。\n检查仓库webhook联通性\n注意：这步需要在Jenkins设置好后才可以验证。\n点击 Test Delivery，可以测试Gitea到Jenkins服务是否连通，注意需要先启动Jenkins服务。\n\u0026ldquo;红色感叹号\u0026quot;代表不通：没有响应\n1 Delivery: Post \u0026#34;http://10.0.0.190:8000/gitea-webhook/post\u0026#34;: dial tcp 10.0.0.190:8000: webhook can only call allowed HTTP servers (check your webhook.ALLOWED_HOST_LIST setting), deny \u0026#39;10.0.0.190(10.0.0.190:8000)\u0026#39;\t2.3 修改配置文件 修改Gitea配置文件app.ini，添加如下内容，可以修复2.2小节的步骤3出现的问题。\n1 2 [webhook] ALLOWED_HOST_LIST = *或10.0.0.190 2.4 生成 Token 这个token用于Jenkins可以通过安装的Gitea插件访问Gitea，扫描和拉取代码。\n点击右上角用户：\n设置token名，设置相应的read或read/write权限，点击Generate Token即可产生Token，复制下这个Token，需要放到Jenkins的Cerdentials中去。\n3. Jenkins 设置 3.1 Install Plugin 由于需要从gitea拉取代码，并利用k8s拉取镜像编译代码，所以需要安装必要的插件。安装 Kubernetes，Gitea.\n在Available plugins 中搜索需要安装的插件，点击右上角的\u0026quot;Install\u0026rdquo; 即可安装。\n安装好后在Install plugins可以查看：\n3.2 System Configuration 点击 Manage Jenkins-\u0026gt;System Configuration-\u0026gt;system:\nGitea Server 添加访问Gitea页面的URL，添加后会正确显示Gitea的版本。这个Gitea版本就是1.24.0。\n设置后保存即可。\n3.3 Add Cerdentials 添加证书用于访问Gitea和Kubernetes。\n3.3.1 添加Gitea Credential 点击 Manage Jenkins-\u0026gt;Cerdentials。\n添加访问Gitea的Credentials：\nKind选择Gitea Personal Access Token，Token输入2.4小节保存的Token，ID和Description 自定义。\n3.3.2 添加 Kubernetes Credential 添加Kubernetes Credential与添加Gitea Credential步骤一样，只是在Kind选择时有所不同：\nKind 可以选择Screct file，这是只需要添加k8s的config文件即可。本文部署的k8s的 config配置文件路径在master节点的~/.kube/下。 Kind 可以选择Screct text，本文采用的这种方式。\n这种方式需要先获取K8s的Token，k8s在1.24+版本之后需要手动生成Token，步骤如下：\n1 2 3 4 5 6 7 8 9 创建命名空间devops： kubectl create ns devops; 创建服务账号jenkins: kubectl create sa jenkins -n devops #创建服务账号jenkins属于命名空间devops, sa是serviceaccounts的缩写 绑定集群角色： kubectl create clusterrolebinding jenkins --clusterrole=cluster-admin --serviceaccount=devops:jenkins k8s 1.24+之后手动生成token: kubectl create token jenkins --duration=8760h # 有效期 1 年 复制kubectl create 产生的Token。\n添加完成后可以看到：\n3.4 Add Clouds 配置Jenkins通过Kubernetes插件与Kubernetes连接。\n3.4.1 New cloud 点击 Manage Jenkins \u0026mdash;\u0026gt; Clouds\u0026ndash;\u0026gt;New cloud.\n输入cloud name，Type选择Kubernetes，点击Create。\n3.4.2 Cloud Configure 名称: 继承上个步骤输入的； Kubernetes地址: Kubernetes集群kube-apiserver所在节点的IP和端口，如果地址不通会有提示； 禁用https检查； Kubernetes 命令空间：输入3.3.2步骤创建的 凭据：选择3.3.2步骤添加的k8s credentials； 勾选websocket； Jenkins地址：填写Jenkins服务的主机IP与服务端口号。 Pod Lable: 标签自定义一个，后续在Pod的yaml文件中能看到这个。 Pod Retetion：Pod 保留策略，always是永久保存。 其他默认，最后点击保存即可。\n4 上传代码到Gitea 4.1 编写Jenkinsfile文件 基于Jenkins Kubernetes插件的podTemplate编写Jenkinsfile文件，例如：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 podTemplate( podRetention: always(), containers: [ containerTemplate( name: \u0026#39;c-builder-env1\u0026#39;, image: \u0026#39;registry.example.com/c-builder-env1:latest\u0026#39;, // 替换为你的私有镜像地址 ttyEnabled: true, command: \u0026#39;cat\u0026#39;, imagePullSecrets: \u0026#39;docker-registry-credentials\u0026#39; // Jenkins中配置的Kubernetes Secret名称 ), ] ) { node(POD_LABEL) { stage(\u0026#39;Checkout\u0026#39;) { checkout scm // 依赖Jenkins任务配置的SCM，检出代码 } stage(\u0026#39;Build in env1\u0026#39;) { container(\u0026#39;c-builder-env1\u0026#39;) { withEnv([\u0026#39;PATH+EXTRA=/opt/build-tools\u0026#39;]) { // 替换为你的工具路径 sh \u0026#39;\u0026#39;\u0026#39;#!/bin/bash set -exo pipefail chmod +x ./build.sh bash ./build.sh \u0026#39;\u0026#39;\u0026#39; } } } stage(\u0026#39;Test\u0026#39;) { container(\u0026#39;c-builder-env1\u0026#39;) { // 示例：使用env1运行测试 withEnv([\u0026#39;PATH+EXTRA=/opt/build-tools\u0026#39;]) { sh \u0026#39;\u0026#39;\u0026#39;#!/bin/bash set -exo pipefail // 替换为你的测试命令，例如： bash ./run-tests.sh // 假设有测试脚本 \u0026#39;\u0026#39;\u0026#39; } } } } } 4.2 上传源代码 将Jenkinsfile文件和源代码上传到 Gitea 仓库。这个很重要，因为Jenkins是根据Jenkinsfile文件来进行流水线作业的。并且这个Jenkinsfile文件要放在源代码的根目录下。\n5 Jenkins New Item 5.1 新建 Organization Folder Item name: 输入Gitea 上的organization名，大小写必须一致； 选择Organization Folder 5.2 configure 对新建的组织文件夹进行配置。\nDisplay Name: 设置的organization名； Repository Sources: 选择 Gitea Organization，并配置Server 和 Credentials Owner: 必须与 Gitea的Organization 一致。 这就是上文要添加Jenkinsfile的原因，不然Jenkins扫描不到组织下的仓库。\n点击保存即设置完成。\n6. 触发Jenkins 手动触发 自动触发\n对Gitea组织下仓库的webhook设置触发条件（2.1小节），pull request 就会自动触发Jenkins调用k8s创建POD编译。\n点击某次编译的Console Output，可以看到详细的编译过程\nk8s上自动创建的POD\n进入容器的/home/jenkins/agent/workspace/xxx下，即可看到源代码。\n​\n7. 搭建过程遇到的问题 问题1：没有自动触发Jenkins 从Gitea上pull request 分支代码到主分支，没有成功触发Jenkins。这就是2.2小节第3步的问题，通过2.3解决。\n问题2：镜像拉取失败 现象：\n从本地镜像仓库拉取spice-vdagent-ks10-builder:v1.5.1镜像失败，配置的本地私有镜像仓库地址是http://xxxx，但是却从https://xxx拉取； jenkins/inbound-agent:3309.v27b_9314fd1a_4-1镜像拉取失败； 这是k8s的容器运行时containerd 拉取镜像的地址设置不对导致。\n1 2 3 [PodInfo] devops/spice-vd-agent-master-3-jg7c8-6hq6d-6fh7s Container [jnlp] waiting [ErrImagePull] failed to pull and unpack image \u0026#34;oci.docker.com/jenkins/inbound-agent:3309.v27b_9314fd1a_4-1\u0026#34;: failed to resolve reference \u0026#34;oci.docker.com/jenkins/inbound-agent:3309.v27b_9314fd1a_4-1\u0026#34;: failed to do request: Head \u0026#34;https://oci.docker.com/v2/jenkins/inbound-agent/manifests/3309.v27b_9314fd1a_4-1\u0026#34;: dial tcp 192.168.1.71:443: connect: connection refused Container [spice-vdagent-ks10-builder] waiting [ErrImagePull] failed to pull and unpack image \u0026#34;oci.docker.com/spice-vdagent-ks10-builder:v1.5.1\u0026#34;: failed to resolve reference \u0026#34;oci.docker.com/spice-vdagent-ks10-builder:v1.5.1\u0026#34;: failed to do request: Head \u0026#34;https://oci.docker.com/v2/spice-vdagent-ks10-builder/manifests/v1.5.1\u0026#34;: dial tcp 192.168.1.71:443: connect: connection refused 使用的containerd是v2.0.0版本。\n解决办法：\n修改containerd的配置文件config.toml。默认目录是/etc/containerd/，添加config_path = \u0026ldquo;xxx\u0026rdquo;，注意最后一级目录 1 2 [plugins.\u0026#39;io.containerd.cri.v1.images\u0026#39;.registry] config_path = \u0026#39;/etc/containerd/certs.d\u0026#39; 新建文件 /etc/containerd/certs.d/oci.docker.com/hosts.toml\n修改hosts.toml\n1 2 3 4 5 6 7 # 定义服务器的基地址 server = \u0026#34;http://oci.docker.com\u0026#34; [host.\u0026#34;http://oci.docker.com\u0026#34;] # 如果仓库是 HTTP 或使用自签名证书，需要设置这个 skip_verify = true capabilities = [\u0026#34;pull\u0026#34;, \u0026#34;resolve\u0026#34;] 由于本地镜像仓库没有上传 inbound-agent:3309.v27b_9314fd1a_4-1镜像，所以拉取失败，配置国内源解决\n新建文件 /etc/containerd/certs.d/docker.io/hosts.toml\n1 2 3 4 5 6 server = \u0026#34;https://docker.xuanyuan.me\u0026#34; # 为 docker.io 配置镜像加速器 (mirrors) [host.\u0026#34;https://docker.xuanyuan.me\u0026#34;] capabilities = [\u0026#34;pull\u0026#34;, \u0026#34;resolve\u0026#34;] override_path = false # 这个很重要，表示这是一个镜像而不是路径覆盖 重启containerd容器。\n至此搭建和测试完成！\n","permalink":"https://qingshanxiao292311.github.io/zh/posts/deploy/k8s+gitea+jenkins%E6%90%AD%E5%BB%BAci%E7%8E%AF%E5%A2%83/","summary":"\u003cp\u003e记录一下利用 Gitea 存储代码、Jenkins 进行持续集成 (CI)，并在 Kubernetes (K8s) 中拉取容器编译代码的 CI/CD 流程。\u003c/p\u003e\n\u003ch1 id=\"1-环境搭建\"\u003e1. 环境搭建\u003c/h1\u003e\n\u003cp\u003e环境搭建包括gitea部署，jenkins部署和k8s部署。\u003c/p\u003e","title":"k8s+gitea+jenkins搭建CI环境"},{"content":"1. 环境准备 在kylin-server-2204 arm架构上部署 1.1 安装高版本go 1 2 3 4 5 6 7 wget https://go.dev/dl/go1.24.1.linux-arm64.tar.gz tar -zxvf go1.24.1 linux-arm64.tar.gz -C /opt/ echo \u0026#34;export PATH=$PATH:/opt/go/bin\u0026#34; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc 1.2 安装高版本nodejs 1 2 3 4 5 6 7 8 9 10 11 12 13 wget https://nodejs.org/download/release/v24.1.0/node-v24.1.0-linux-arm64.tar.xz xz -d node-v24.1.0-linux-arm64.tar.xz tar -xf node-v24.1.0-linux-arm64.tar mv node-v24.1.0 nodejs ln -s /usr/local/node/nodejs/bin/node /usr/local/bin/node ln -s /usr/local/node/nodejs/bin/npm /usr/local/bin/npm ln -s /usr/local/node/nodejs/bin/npx /usr/local/bin/npx 1.3 安装数据库mariadb 1 2 3 4 5 6 7 8 9 yum install -y mariadb mariadb-server systemctl enable --now mariadb 创建一个gitea数据库和gitea用户： mysql -u root -p MariaDB [(none)]\u0026gt; create databse gitea; #创建数据库gitea MariaDB [(none)]\u0026gt; CREATE USER \u0026#39;gitea\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;123456\u0026#39;; # 创建一个用户gitea, 密码123456 MariaDB [(none)]\u0026gt; GRANT ALL PRIVILEGES ON gitea.* TO \u0026#39;gitea\u0026#39;@\u0026#39;localhost\u0026#39;; # 赋予所有的操作权限 MariaDB [(none)]\u0026gt; FLUSH PRIVILEGES; # 刷新权限 2. 源码编译 1 2 3 4 5 6 7 git clone -b release/v1.24 https://github.com/go-gitea/gitea.git cd gitea TARS=\u0026#34;bindata\u0026#34; make build 编译失败，由于有些地址不通，直接使用二进制安装 3. 下载二进制 1 2 https://dl.gitea.com/gitea/ wget -O gitea https://dl.gitea.com/gitea/1.24.0/gitea-1.24.0-linux-arm64 # 直接下载 4. 运行 1 2 3 4 5 /opt/gitea/gitea web 打开网页： http://0.0.0.0:5000 # 端口连接, 第一次连接会需要安装，查看后台，根据报错修复问题 AppURL(ROOT_URL): http://git.xqs.com/ # 域名连接 5. gitea配置文件修改 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 [xqs@localhost ~]$ vim /opt/gitea/custom/conf/app.ini APP_NAME = My Gitea RUN_USER =xqs # 运行用户即运行/opt/gitea/gitea web的用户名 WORK_PATH = /opt/gitea RUN_MODE = prod [database] DB_TYPE = mysql HOST = 127.0.0.1:3306 NAME = gitea #数据库名 USER = gitea #数据库用户名 PASSWD = 123456 #数据库gitea 密码 SCHEMA = SSL_MODE = disable PATH = /opt/gitea/data/gitea.db #数据库路径 LOG_SQL = false [server] PROTOCOL = http HTTP_ADDR = 0.0.0.0 # 地址 HTTP_PORT = 5000 # 端口 DOMAIN = git.xqs.com # 域名 ROOT_URL = http://git.xqs.com/ START_SSH_SERVER = true SSH_PORT = 2222 # ssh 方式下载代码的端口号，默认22与系统的sshd 22端口冲突 SSH_DOMAIN = git.xqs.com APP_DATA_PATH = /opt/gitea/data DISABLE_SSH = false LFS_START_SERVER = false OFFLINE_MODE = true [repository] ROOT = /opt/gitea/data/repositories #仓库地址 [mailer] ENABLED = false [service] REGISTER_EMAIL_CONFIRM = false ENABLE_NOTIFY_MAIL = false DISABLE_REGISTRATION = false ALLOW_ONLY_EXTERNAL_REGISTRATION = false ENABLE_CAPTCHA = false REQUIRE_SIGNIN_VIEW = false DEFAULT_KEEP_EMAIL_PRIVATE = false DEFAULT_ALLOW_CREATE_ORGANIZATION = true DEFAULT_ENABLE_TIMETRACKING = true NO_REPLY_ADDRESS = noreply.git.xqs.com [openid] ENABLE_OPENID_SIGNIN = true ENABLE_OPENID_SIGNUP = true [cron.update_checker] ENABLED = false [session] PROVIDER = file [log] MODE = console LEVEL = info ROOT_PATH = /opt/gitea/log #日志路径 [repository.pull-request] DEFAULT_MERGE_STYLE = merge # 合并风格，merge, rebase等 [repository.signing] DEFAULT_TRUST_MODEL = committer [security] #第一次安装生成 INSTALL_LOCK = true INTERNAL_TOKEN = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE3NDk1NTUwMTJ9.mcXVTx4YnRCueNq5rASyvx_nwY-SydmaPNdB5vb6b7s PASSWORD_HASH_ALGO = pbkdf2 [oauth2] #第一次安装生成 JWT_SECRET = zrLLRezYRSNtCdQohBz30uMHBDk93i59N20RNMzRp6g 6.参考 https://docs.gitea.com/zh-cn/installation/install-from-source\n","permalink":"https://qingshanxiao292311.github.io/zh/posts/deploy/gitea-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/","summary":"\u003ch1 id=\"1-环境准备\"\u003e1. 环境准备\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e在kylin-server-2204 arm架构上部署\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"11-安装高版本go\"\u003e1.1 安装高版本go\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e7\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-gdscript3\" data-lang=\"gdscript3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ewget\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003ego\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edev\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003edl\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ego1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e24.1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elinux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003earm64\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egz\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ezxvf\u003c/span\u003e \u003cspan class=\"n\"\u003ego1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e24.1\u003c/span\u003e \u003cspan class=\"n\"\u003elinux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003earm64\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egz\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eC\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eopt\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;export PATH=$PATH:/opt/go/bin\u0026#34;\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e~/.\u003c/span\u003e\u003cspan class=\"n\"\u003ebashrc\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003esource\u003c/span\u003e \u003cspan class=\"o\"\u003e~/.\u003c/span\u003e\u003cspan class=\"n\"\u003ebashrc\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch2 id=\"12-安装高版本nodejs\"\u003e1.2 安装高版本nodejs\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e13\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-gdscript3\" data-lang=\"gdscript3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ewget\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003enodejs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eorg\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003edownload\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003erelease\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ev24\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev24\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003elinux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003earm64\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exz\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003exz\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ed\u003c/span\u003e \u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev24\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003elinux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003earm64\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exz\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003exf\u003c/span\u003e \u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev24\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003elinux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003earm64\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003emv\u003c/span\u003e \u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev24\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e \u003cspan class=\"n\"\u003enodejs\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eln\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elocal\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enodejs\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elocal\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eln\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elocal\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enodejs\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enpm\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elocal\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enpm\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eln\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elocal\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enodejs\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enpx\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elocal\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003enpx\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch2 id=\"13-安装数据库mariadb\"\u003e1.3 安装数据库mariadb\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e9\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum install -y mariadb mariadb-server\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl enable --now mariadb\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e创建一个gitea数据库和gitea用户：\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emysql -u root -p\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eMariaDB [(none)]\u0026gt; create databse gitea;    #创建数据库gitea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eMariaDB [(none)]\u0026gt; CREATE USER \u0026#39;gitea\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;123456\u0026#39;;  # 创建一个用户gitea, 密码123456\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eMariaDB [(none)]\u0026gt; GRANT ALL PRIVILEGES ON gitea.* TO \u0026#39;gitea\u0026#39;@\u0026#39;localhost\u0026#39;;    # 赋予所有的操作权限\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eMariaDB [(none)]\u0026gt; FLUSH PRIVILEGES;  # 刷新权限\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch1 id=\"2-源码编译\"\u003e2. 源码编译\u003c/h1\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e7\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit clone -b release/v1.24 https://github.com/go-gitea/gitea.git\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecd gitea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eTARS=\u0026#34;bindata\u0026#34; make build\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e编译失败，由于有些地址不通，直接使用二进制安装\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch2 id=\"3--下载二进制\"\u003e3.  下载二进制\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ehttps://dl.gitea.com/gitea/  \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewget -O gitea https://dl.gitea.com/gitea/1.24.0/gitea-1.24.0-linux-arm64   # 直接下载\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch2 id=\"4-运行\"\u003e4. 运行\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e5\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e/opt/gitea/gitea web\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e打开网页：\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ehttp://0.0.0.0:5000                   # 端口连接, 第一次连接会需要安装，查看后台，根据报错修复问题\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eAppURL(ROOT_URL): http://git.xqs.com/   # 域名连接\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch2 id=\"5-gitea配置文件修改\"\u003e5. gitea配置文件修改\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e  1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e  9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 13\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 14\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 15\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 16\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 17\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 18\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 19\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 20\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 21\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 22\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 23\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 24\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 25\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 26\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 27\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 28\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 29\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 30\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 31\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 32\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 33\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 34\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 35\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 36\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 37\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 38\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 39\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 40\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 41\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 42\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 43\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 44\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 45\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 46\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 47\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 48\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 49\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 50\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 51\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 52\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 53\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 54\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 55\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 56\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 57\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 58\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 59\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 60\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 61\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 62\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 63\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 64\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 65\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 66\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 67\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 68\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 69\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 70\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 71\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 72\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 73\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 74\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 75\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 76\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 77\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 78\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 79\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 80\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 81\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 82\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 83\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 84\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 85\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 86\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 87\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 88\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 89\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 90\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 91\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 92\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 93\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 94\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 95\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 96\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 97\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 98\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 99\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e100\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e101\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e102\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e103\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e104\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e105\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e106\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e107\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e108\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e109\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e110\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e111\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e112\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e113\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e114\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e115\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e116\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e117\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e118\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e119\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e120\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e121\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e122\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e123\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e124\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e125\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e126\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e127\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[xqs@localhost ~]$ vim /opt/gitea/custom/conf/app.ini \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eAPP_NAME = My Gitea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eRUN_USER =xqs     # 运行用户即运行/opt/gitea/gitea web的用户名\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eWORK_PATH = /opt/gitea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eRUN_MODE = prod\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[database]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDB_TYPE = mysql\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eHOST = 127.0.0.1:3306\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eNAME = gitea    #数据库名\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eUSER = gitea    #数据库用户名\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ePASSWD = 123456  #数据库gitea 密码\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eSCHEMA = \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eSSL_MODE = disable\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ePATH = /opt/gitea/data/gitea.db  #数据库路径\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eLOG_SQL = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[server]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ePROTOCOL = http\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eHTTP_ADDR = 0.0.0.0    # 地址\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eHTTP_PORT = 5000      # 端口\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDOMAIN = git.xqs.com    # 域名\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eROOT_URL = http://git.xqs.com/\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eSTART_SSH_SERVER = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eSSH_PORT = 2222       # ssh 方式下载代码的端口号，默认22与系统的sshd 22端口冲突\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eSSH_DOMAIN = git.xqs.com\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eAPP_DATA_PATH = /opt/gitea/data\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDISABLE_SSH = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eLFS_START_SERVER = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eOFFLINE_MODE = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[repository]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eROOT = /opt/gitea/data/repositories   #仓库地址\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[mailer]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eENABLED = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[service]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eREGISTER_EMAIL_CONFIRM = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eENABLE_NOTIFY_MAIL = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDISABLE_REGISTRATION = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eALLOW_ONLY_EXTERNAL_REGISTRATION = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eENABLE_CAPTCHA = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eREQUIRE_SIGNIN_VIEW = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDEFAULT_KEEP_EMAIL_PRIVATE = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDEFAULT_ALLOW_CREATE_ORGANIZATION = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDEFAULT_ENABLE_TIMETRACKING = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eNO_REPLY_ADDRESS = noreply.git.xqs.com\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[openid]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eENABLE_OPENID_SIGNIN = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eENABLE_OPENID_SIGNUP = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[cron.update_checker]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eENABLED = false\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[session]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ePROVIDER = file\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[log]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eMODE = console\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eLEVEL = info\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eROOT_PATH = /opt/gitea/log  #日志路径\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[repository.pull-request]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDEFAULT_MERGE_STYLE = merge    # 合并风格，merge, rebase等\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[repository.signing]\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eDEFAULT_TRUST_MODEL = committer\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[security]   #第一次安装生成\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eINSTALL_LOCK = true\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eINTERNAL_TOKEN = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE3NDk1NTUwMTJ9.mcXVTx4YnRCueNq5rASyvx_nwY-SydmaPNdB5vb6b7s\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ePASSWORD_HASH_ALGO = pbkdf2  \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e[oauth2]   #第一次安装生成\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eJWT_SECRET = zrLLRezYRSNtCdQohBz30uMHBDk93i59N20RNMzRp6g\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch1 id=\"6参考\"\u003e6.参考\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://docs.gitea.com/zh-cn/installation/install-from-source\"\u003ehttps://docs.gitea.com/zh-cn/installation/install-from-source\u003c/a\u003e\u003c/p\u003e","title":"gitea 本地部署"},{"content":"1. jenkins 部署 环境准备\n安装包\n配置\n1.1 环境准备 ​ kylin-server-v10\n1.2 安装包 1.3 安装openjdk 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 从yum 源安装： yum install -y java-11-openjdk alternatives --config java 输入 1， 切换java 版本到java-11 从二进制安装： 下载openjdk21: wget wget https://download.java.net/java/GA/jdk24.0.1/24a58e0e276943138bf3e963e6291ac2/9/GPL/openjdk-21.0.2_linux-aarch64_bin.tar.gz 解压： tar -zxvf openjdk-21.0.2_linux-aarch64_bin.tar.gz -C /opt 本文使用二进制安装。 1.3 安装jenkins 服务 启动方式1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 rpm包下载地址：https://get.jenkins.io/redhat-stable/ https://mirrors.tuna.tsinghua.edu.cn/jenkins/redhat-stable/ rpm -ivh jenkins-2.462.1-1.1.noarch.rpm 启动服务： systemctl enable --now jenkins journalctl -u jenkins -f # 实时查看日志 查看服务： ...... /usr/bin/java -Djava.awt.headless=true -jar /usr/share/java/jenkins.war --webroot=/var/cache/jenkins/war --httpPort=8080 启动方式2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 1. war 包下载： https://updates.jenkins.io/download/war/ 2. wget https://updates.jenkins.io/download/war/2.504.3/jenkins.war 3. 新建 jenkins.service [root@localhost jjw]# cat /usr/lib/systemd/system/jenkins.service [Unit] Description=Extendable continuous integration server Requires=network.target After=network.target [Service] User=jenkins Group=jenkins Type=exec EnvironmentFile=/etc/default/jenkins ExecStart=/bin/sh -c \u0026#39;eval $JENKINS_COMMAND_LINE\u0026#39; SuccessExitStatus=143 [Install] WantedBy=multi-user.target 4. 新建环境变量文件 /etc/default/jenkins： [root@localhost jjw]# cat /etc/default/jenkins JAVA=/opt/jdk-21.0.2/bin/java JAVA_OPTS=-Djava.awt.headless=true JENKINS_HOME=/var/lib/jenkins JENKINS_USER=jenkins JENKINS_WAR=/usr/share/jenkins/jenkins.war JENKINS_WEBROOT=/var/cache/jenkins JENKINS_PORT=8000 JENKINS_LOG=/var/log/jenkins/jenkins.log JENKINS_COMMAND_LINE=\u0026#34;$JAVA $JAVA_OPTS -jar $JENKINS_WAR --webroot=$JENKINS_WEBROOT --httpPort=$JENKINS_PORT\u0026#34; 5. 新建用户及用户组jenkins: groupadd jenkins user add -g jenkins jenkins 6. 新建/var/cache/jenkins目录 mkdir -p /var/cache/jenkins chown -R jenkins:jenkins /var/cache/jenkins chown 755 /var/cache/jenkins 7. 新建/var/lib/jenkins目录 mkdir -p /var/lib/jenkins chown -R jenkins:jenkins /var/lib/jenkins chown 755 /var/lib/jenkins 8. 查看服务： ..... /opt/jdk-21.0.2/bin/java -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins --httpPort=8000 前两步也可以直接通过修改rpm包中jenkins.service实现, 修改ExecStart项即可 升级后需要替换jenkins.war文件即可 这里openjdk 只能使用17~21的版本，太高的版本.war不支持 2. 配置 登录 http//host_ip:8000 输入初始密码：密码存在/var/lib/jenkins/secrets/initialAdminPassword，等待第一次安装完成 修改admin用户密码：123456 安装插件gitea、github、git、kubernetes等 ","permalink":"https://qingshanxiao292311.github.io/zh/posts/deploy/jenkins-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/","summary":"\u003ch1 id=\"1-jenkins-部署\"\u003e1. jenkins 部署\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e环境准备\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装包\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e配置\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"11-环境准备\"\u003e1.1 环境准备\u003c/h2\u003e\n\u003cp\u003e​     kylin-server-v10\u003c/p\u003e\n\u003ch2 id=\"12-安装包\"\u003e1.2 安装包\u003c/h2\u003e\n\u003ch3 id=\"13-安装openjdk\"\u003e1.3 安装openjdk\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e13\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e14\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e15\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e16\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e17\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-gdscript3\" data-lang=\"gdscript3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e从\u003c/span\u003e\u003cspan class=\"n\"\u003eyum\u003c/span\u003e \u003cspan class=\"err\"\u003e源安装：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eyum\u003c/span\u003e \u003cspan class=\"n\"\u003einstall\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"n\"\u003ejava\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e11\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eopenjdk\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ealternatives\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e \u003cspan class=\"n\"\u003ejava\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e输入\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"err\"\u003e，\u003c/span\u003e \u003cspan class=\"err\"\u003e切换\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e \u003cspan class=\"err\"\u003e版本到\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e11\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e从二进制安装：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e下载\u003c/span\u003e\u003cspan class=\"n\"\u003eopenjdk21\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e \u003cspan class=\"n\"\u003ewget\u003c/span\u003e \u003cspan class=\"n\"\u003ewget\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003edownload\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enet\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eGA\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejdk24\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.1\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mi\"\u003e24\u003c/span\u003e\u003cspan class=\"n\"\u003ea58e0e276943138bf3e963e6291ac2\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mi\"\u003e9\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eGPL\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eopenjdk\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mf\"\u003e21.0\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"n\"\u003e_linux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eaarch64_bin\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egz\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e解压：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ezxvf\u003c/span\u003e \u003cspan class=\"n\"\u003eopenjdk\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mf\"\u003e21.0\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"n\"\u003e_linux\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eaarch64_bin\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egz\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eC\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eopt\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e本文使用二进制安装。\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch2 id=\"13-安装jenkins-服务\"\u003e1.3 安装jenkins 服务\u003c/h2\u003e\n\u003ch4 id=\"启动方式1\"\u003e启动方式1\u003c/h4\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e13\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e14\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e15\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-gdscript3\" data-lang=\"gdscript3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003erpm包下载地址\u003c/span\u003e\u003cspan class=\"err\"\u003e：\u003c/span\u003e\u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eredhat\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003estable\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003emirrors\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etuna\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etsinghua\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eedu\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eredhat\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003estable\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003erpm\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eivh\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mf\"\u003e2.462\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enoarch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erpm\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e启动服务：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003esystemctl\u003c/span\u003e \u003cspan class=\"n\"\u003eenable\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"n\"\u003enow\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003ejournalctl\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eu\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 实时查看日志\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e查看服务：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e......\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eDjava\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eawt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eheadless\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003etrue\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ejar\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eshare\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"n\"\u003ewebroot\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"n\"\u003ehttpPort\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e8080\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch4 id=\"启动方式2\"\u003e启动方式2\u003c/h4\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e13\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e14\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e15\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e16\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e17\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e18\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e19\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e20\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e21\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e22\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e23\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e24\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e25\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e26\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e27\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e28\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e29\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e30\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e31\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e32\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e33\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e34\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e35\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e36\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e37\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e38\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e39\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e40\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e41\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e42\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e43\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e44\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e45\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e46\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e47\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e48\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e49\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e50\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e51\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e52\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e53\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e54\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e55\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e56\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e57\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e58\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e59\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e60\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e61\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e62\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e63\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e64\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e65\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e66\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e67\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e68\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e69\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e70\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e71\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e72\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e73\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e74\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e75\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e76\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e77\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e78\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e79\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e80\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e81\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e82\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e83\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e84\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e85\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e86\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e87\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e88\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e89\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e90\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e91\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-gdscript3\" data-lang=\"gdscript3\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e1.\u003c/span\u003e \u003cspan class=\"n\"\u003ewar\u003c/span\u003e \u003cspan class=\"err\"\u003e包下载：\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003eupdates\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003edownload\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e2.\u003c/span\u003e \u003cspan class=\"n\"\u003ewget\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003eupdates\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003edownload\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mf\"\u003e2.504\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e3.\u003c/span\u003e \u003cspan class=\"err\"\u003e新建\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eservice\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eroot\u003c/span\u003e\u003cspan class=\"err\"\u003e@\u003c/span\u003e\u003cspan class=\"n\"\u003elocalhost\u003c/span\u003e \u003cspan class=\"n\"\u003ejjw\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"c1\"\u003e# cat /usr/lib/systemd/system/jenkins.service\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eDescription\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eExtendable\u003c/span\u003e \u003cspan class=\"n\"\u003econtinuous\u003c/span\u003e \u003cspan class=\"n\"\u003eintegration\u003c/span\u003e \u003cspan class=\"n\"\u003eserver\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eRequires\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etarget\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eAfter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etarget\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eService\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eUser\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eGroup\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eexec\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eEnvironmentFile\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"n\"\u003eetc\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003edefault\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eExecStart\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003esh\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;eval $JENKINS_COMMAND_LINE\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eSuccessExitStatus\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e143\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eInstall\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eWantedBy\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003emulti\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etarget\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e4.\u003c/span\u003e \u003cspan class=\"err\"\u003e新建环境变量文件\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eetc\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003edefault\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"err\"\u003e：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eroot\u003c/span\u003e\u003cspan class=\"err\"\u003e@\u003c/span\u003e\u003cspan class=\"n\"\u003elocalhost\u003c/span\u003e \u003cspan class=\"n\"\u003ejjw\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"c1\"\u003e# cat /etc/default/jenkins \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJAVA\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"n\"\u003eopt\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejdk\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mf\"\u003e21.0\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJAVA_OPTS\u003c/span\u003e\u003cspan class=\"o\"\u003e=-\u003c/span\u003e\u003cspan class=\"n\"\u003eDjava\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eawt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eheadless\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_HOME\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elib\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_USER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_WAR\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eshare\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_WEBROOT\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_PORT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e8000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_LOG\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"nb\"\u003elog\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elog\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eJENKINS_COMMAND_LINE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;$JAVA $JAVA_OPTS -jar $JENKINS_WAR --webroot=$JENKINS_WEBROOT --httpPort=$JENKINS_PORT\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e5.\u003c/span\u003e \u003cspan class=\"err\"\u003e新建用户及用户组\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003egroupadd\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003euser\u003c/span\u003e \u003cspan class=\"n\"\u003eadd\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eg\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e6.\u003c/span\u003e \u003cspan class=\"err\"\u003e新建\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins目录\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003emkdir\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003echown\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eR\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003echown\u003c/span\u003e \u003cspan class=\"mi\"\u003e755\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e7.\u003c/span\u003e \u003cspan class=\"err\"\u003e新建\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elib\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins目录\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003emkdir\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elib\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003echown\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eR\u003c/span\u003e \u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elib\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003echown\u003c/span\u003e \u003cspan class=\"mi\"\u003e755\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003elib\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"mf\"\u003e8.\u003c/span\u003e \u003cspan class=\"err\"\u003e查看服务：\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e.....\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eopt\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejdk\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mf\"\u003e21.0\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ebin\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e  \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ejar\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eusr\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eshare\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewar\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"n\"\u003ewebroot\u003c/span\u003e\u003cspan class=\"o\"\u003e=/\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"n\"\u003ehttpPort\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e8000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e前两步也可以直接通过修改\u003c/span\u003e\u003cspan class=\"n\"\u003erpm包中jenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eservice实现\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"err\"\u003e修改\u003c/span\u003e\u003cspan class=\"n\"\u003eExecStart项即可\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e升级后需要替换\u003c/span\u003e\u003cspan class=\"n\"\u003ejenkins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewar文件即可\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e这里\u003c/span\u003e\u003cspan class=\"n\"\u003eopenjdk\u003c/span\u003e \u003cspan class=\"err\"\u003e只能使用\u003c/span\u003e\u003cspan class=\"mi\"\u003e17\u003c/span\u003e\u003cspan class=\"o\"\u003e~\u003c/span\u003e\u003cspan class=\"mi\"\u003e21\u003c/span\u003e\u003cspan class=\"err\"\u003e的版本，太高的版本\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewar不支持\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch1 id=\"2-配置\"\u003e2. 配置\u003c/h1\u003e\n\u003col\u003e\n\u003cli\u003e登录 \u003ccode\u003ehttp//host_ip:8000\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e输入初始密码：密码存在\u003ccode\u003e/var/lib/jenkins/secrets/initialAdminPassword\u003c/code\u003e，等待第一次安装完成\u003c/li\u003e\n\u003cli\u003e修改\u003ccode\u003eadmin\u003c/code\u003e用户密码：\u003ccode\u003e123456\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e安装插件\u003ccode\u003egitea、github、git、kubernetes\u003c/code\u003e等\u003c/li\u003e\n\u003c/ol\u003e","title":"jenkins 本地部署"}]